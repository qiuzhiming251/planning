# Params applicable to robobuses in China urban environments.
motion_constraint_params {
  default_speed_limit: 25  # 25mph, 40kph
}

lc_decision_params { min_lane_change_length: 14.0 }

decision_constraint_config {
  enable_traffic_light: true
  enable_crosswalk: true
  enable_leading_object: true
  enable_no_block: true
  enable_speed_bump: true
  enable_traffic_obstacles: true
}

speed_finder_params {
  speed_optimizer_params {
    s_kernel_weight: 0.0001
    speed_kernel_weight: 0.45
    accel_kernel_weight: 12.0
    jerk_kernel_weight: 20.0
  }
  speed_limit_params {
    curvature_bias: 2.5
    curvature_gain: 0.1
    enable_new_curvature_speed_limit: false
  }
  follow_standstill_distance_for_static_obj: 7.0
  full_stop_speed_threshold: 0.2
  st_graph_params {
    consider_mirrors_by_default: false
    consider_large_vehicle_blind_spot: false
  }
}

# TODO:
# speed_finder_params_lc_radical
# speed_finder_params_lc_conservative

trajectory_optimizer_params {
  cost_weight_params {
    longitudinal_acceleration_cost_params {
      accel_cascade { buffer: 0.0 gain: 20.0 }
      accel_cascade { buffer: 2.0 gain: 100.0 }
    }
    lateral_acceleration_cost_weight: 0.5
    vehicle_model_params { mid_edge_to_center: 3.0 }
  }
}

# TODO:
# trajectory_optimizer_lc_radical_params
# trajectory_optimizer_lc_conservative_params
# trajectory_optimizer_lc_normal_params

fallback_planner_params {
  speed_finder_params {
    speed_optimizer_params {
      s_kernel_weight: 0.0001
      speed_kernel_weight: 0.45
      accel_kernel_weight: 12.0
      jerk_kernel_weight: 20.0
    }
    speed_limit_params {
      curvature_bias: 2.5
      curvature_gain: 0.1
      enable_new_curvature_speed_limit: false
    }
    follow_standstill_distance_for_static_obj: 7.0
    full_stop_speed_threshold: 0.2
    st_graph_params {
      consider_mirrors_by_default: false
      consider_large_vehicle_blind_spot: false
    }
  }
}

vehicle_models_params {
  trajectory_optimizer_vehicle_model_params {
    consider_mirrors_by_default: false
  }

  freespace_local_smoother_vehicle_model_params {
    consider_mirrors_by_default: false
  }
}
